//Quest_Taxicabturnaround_
//gText_Taxicabturnaround_

script Quest_Taxicabturnaround_AskPokemon_Dialogue{ 
    msgbox(gText_Taxicabturnaround_OhTheyMentioned)
    msgbox(gText_Taxicabturnaround_WeWantTo)
    msgbox(gText_Taxicabturnaround_DoYouHave,MSGBOX_YESNO)

    if (var(VAR_RESULT) == NO){
        goto(Quest_Taxicabturnaround_NoRefusePokemon_Dialogue)
    }else{
        goto(Quest_Taxicabturnaround_EvaluatePokemon_Script)
    }
}

script Quest_Taxicabturnaround_NoRefusePokemon_Dialogue{
    msgbox(gText_Taxicabturnaround_ComeBackWhen)
    release
    end
}

script Quest_Taxicabturnaround_EvaluatePokemon_Script{
    special(ChoosePartyMon)
    waitstate

    if (var(VAR_0x8004) == PARTY_NOTHING_CHOSEN){
        goto(Quest_Taxicabturnaround_NoRefusePokemon_Dialogue)
    }

    specialvar(VAR_RESULT,Quest_Taxicabturnaround_CheckRequiredPokemon)
    if (!var(VAR_RESULT)){
        goto(Quest_Taxicabturnaround_WrongPokemon_Dialogue)
    }

    msgbox(gText_Taxicabturnaround_AskForMon,MSGBOX_YESNO)
    if (var(VAR_RESULT) == NO){
        goto(Quest_Taxicabturnaround_NoRefusePokemon_Dialogue)
    }

    special(HasEnoughMonsForDoubleBattle)
    if (var(VAR_RESULT) != PLAYER_HAS_TWO_USABLE_MONS){
        goto(Quest_Taxicabturnaround_NotEnough_Dialogue)
    }

    goto(Quest_Taxicabturnaround_TakeMonMarkSubquest_Script)
}

script Quest_Taxicabturnaround_TakeMonMarkSubquest_Script{

    special(DeleteChosenPartyMon)
    special(Quest_Taxicabturnaround_MarkSubquestComplete)
    closemessage
    release
    end
}

script Quest_Taxicabturnaround_WrongPokemon_Dialogue{
    msgbox(gText_Taxicabturnaround_YouKnowIDont)
    closemessage
    release
    end
}

script Quest_Taxicabturnaround_NotEnough_Dialogue{
    msgbox(gText_Taxicabturnaround_ThatsYourLast)
    closemessage
    release
    end
}

text gText_Taxicabturnaround_OhTheyMentioned{
    format("")
}
text gText_Taxicabturnaround_WeWantTo{
    format("")
}
text gText_Taxicabturnaround_DoYouHave{
    format("")
}
text gText_Taxicabturnaround_ComeBackWhen{
    format("")
}
text gText_Taxicabturnaround_AskForMon{
    format("")
}
text gText_Taxicabturnaround_YouKnowIDont{
    format("")
}
text gText_Taxicabturnaround_ThatsYourLast{
    format("")
}
