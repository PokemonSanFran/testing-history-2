const FLAG_HIDE_HOSTESS = FLAG_TEMP_2
const FLAG_HIDE_CHEF = FLAG_TEMP_3
const FLAG_HIDE_JAINTOR = FLAG_TEMP_4
const FLAG_HIDE_BUSSER = FLAG_TEMP_5
const FLAG_HIDE_CASHIER = FLAG_TEMP_6

const FLAG_HIDE_FALKNER_MISSION = FLAG_TEMP_4

//gText_Restaurantexpansion2_
//Quest_Restaurantexpansion2_
script Quest_Restaurantexpansion2_Leader_Interact_Script{
    goto_if_quest_reward(QUEST_RESTAURANTEXPANSION2,Quest_Restaurantexpansion2_Reward_Dialogue)
    goto_if_quest_active(QUEST_RESTAURANTEXPANSION2,Quest_Restaurantexpansion2_Active_Dialogue)
    goto(Quest_Restaurantexpansion2_StartQuest)
}

script Quest_Restaurantexpansion2_StartQuest{
    msgbox(gText_Restaurantexpansion2_PlayerThings,,SPEAKER_FALKNER)
    msgbox(gText_Restaurantexpansion2_Awesome,,SPEAKER_ZOEY)
    msgbox(gText_Restaurantexpansion2_IWantToTake,,SPEAKER_FALKNER)
    msgbox(gText_Restaurantexpansion2_ActuallyIWasnt,,SPEAKER_FALKNER)
    msgbox(gText_Restaurantexpansion2_LetMeGuess,,SPEAKER_ZOEY)
    msgbox(gText_Restaurantexpansion2_YouDontHaveToGoBack,,SPEAKER_FALKNER,,EMOTE_SWEAT)
    msgbox(gText_Restaurantexpansion2_IfYouHappenToBattle,,SPEAKER_FALKNER)
    startquest(QUEST_RESTAURANTEXPANSION2)
    end
}

script Quest_Restaurantexpansion2_HideEmployees_Script{
    subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_1)
        if (!var(VAR_RESULT))
        {
            setflag(FLAG_HIDE_HOSTESS)
        }


    subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_2)
        if (!var(VAR_RESULT))
        {
            setflag(FLAG_HIDE_CHEF)
        }


    subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_3)
        if (!var(VAR_RESULT))
        {
            setflag(FLAG_HIDE_JAINTOR)
        }


    subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_4)
        if (!var(VAR_RESULT))
        {
            setflag(FLAG_HIDE_BUSSER)
        }


    subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_5)
        if (!var(VAR_RESULT))
        {
            setflag(FLAG_HIDE_CASHIER)
        }
    return
}

script Quest_Restaurantexpansion2_HideStaffA_Script{
    subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_1)
        if (var(VAR_RESULT))
        {
            setflag(FLAG_HIDE_HOSTESS)
        }
    return
}

script Quest_Restaurantexpansion2_HideStaffB_Script{
    subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_2)
        if (var(VAR_RESULT))
        {
            setflag(FLAG_HIDE_CHEF)
        }
    return
}

script Quest_Restaurantexpansion2_HideStaffC_Script{
    subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_3)
        if (var(VAR_RESULT))
        {
            setflag(FLAG_HIDE_JAINTOR)
        }
    return
}

script Quest_Restaurantexpansion2_HideStaffD_Script{
    subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_4)
        if (var(VAR_RESULT))
        {
            setflag(FLAG_HIDE_BUSSER)
        }
    return
}

script Quest_Restaurantexpansion2_HideStaffE_Script{
    subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_5)
        if (var(VAR_RESULT))
        {
            setflag(FLAG_HIDE_CASHIER)
        }
    return
}


script Quest_Restaurantexpansion2_RemoveStaff_Script{
    fadescreen(FADE_TO_BLACK)
    removeobject(VAR_LAST_TALKED)
    fadescreen(FADE_FROM_BLACK)
    return
}

script Quest_Restaurantexpansion2_CancelIfNotActive_Script{
    questmenu(QUEST_MENU_CHECK_ACTIVE,QUEST_RESTAURANTEXPANSION2)
    if (!var(VAR_RESULT)){
        closemessage
        release
        end
    }
    return
}

script Quest_Restaurantexpansion_TrainerA_Event_Script{
}
script Quest_Restaurantexpansion_TrainerB_Event_Script{
}
script Quest_Restaurantexpansion_TrainerC_Event_Script{
    trainerbattle_single(TRAINER_JAINTOR,gText_Restaurantexpansion2_Placeholder,gText_Restaurantexpansion2_Placeholder, Quest_Restaurantexpansion2_TrainerC_PostBattle_Script)
}
script Quest_Restaurantexpansion_TrainerD_Event_Script{
    trainerbattle_single(TRAINER_BUSSER,gText_Restaurantexpansion2_Placeholder,gText_Restaurantexpansion2_Placeholder, Quest_Restaurantexpansion2_TrainerD_PostBattle_Script)
}
script Quest_Restaurantexpansion_TrainerE_Event_Script{
    trainerbattle_single(TRAINER_CASHIER,gText_Restaurantexpansion2_Placeholder,gText_Restaurantexpansion2_Placeholder, Quest_Restaurantexpansion2_TrainerE_PostBattle_Script)
}

script Quest_Restaurantexpansion2_TrainerA_PostBattle_Script{
	lock
    msgbox(gText_Restaurantexpansion2_Placeholder)
    call(Quest_Restaurantexpansion2_CancelIfNotActive_Script)
	subquestmenu(QUEST_MENU_COMPLETE_QUEST, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_1)
    call(Quest_Restaurantexpansion2_CheckReward_Script)
    msgbox(gText_Restaurantexpansion2_Placeholder)
    call(Quest_Restaurantexpansion2_RemoveStaff_Script)
    closemessage
    release
    end
}
script Quest_Restaurantexpansion2_TrainerB_PostBattle_Script{
	lock
    msgbox(gText_Restaurantexpansion2_Placeholder)
    call(Quest_Restaurantexpansion2_CancelIfNotActive_Script)
	subquestmenu(QUEST_MENU_COMPLETE_QUEST, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_2)
    call(Quest_Restaurantexpansion2_CheckReward_Script)
    msgbox(gText_Restaurantexpansion2_Placeholder)
    call(Quest_Restaurantexpansion2_RemoveStaff_Script)
    closemessage
    release
    end
}
script Quest_Restaurantexpansion2_TrainerC_PostBattle_Script{
	lock
    msgbox(gText_Restaurantexpansion2_Placeholder)
    call(Quest_Restaurantexpansion2_CancelIfNotActive_Script)
	subquestmenu(QUEST_MENU_COMPLETE_QUEST, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_3)
    call(Quest_Restaurantexpansion2_CheckReward_Script)
    msgbox(gText_Restaurantexpansion2_Placeholder)
    call(Quest_Restaurantexpansion2_RemoveStaff_Script)
    closemessage
    release
    end
}
script Quest_Restaurantexpansion2_TrainerD_PostBattle_Script{
	lock
    msgbox(gText_Restaurantexpansion2_Placeholder)
    call(Quest_Restaurantexpansion2_CancelIfNotActive_Script)
	subquestmenu(QUEST_MENU_COMPLETE_QUEST, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_4)
    call(Quest_Restaurantexpansion2_CheckReward_Script)
    msgbox(gText_Restaurantexpansion2_Placeholder)
    call(Quest_Restaurantexpansion2_RemoveStaff_Script)
    closemessage
    release
    end
}
script Quest_Restaurantexpansion2_TrainerE_PostBattle_Script{
	lock
    msgbox(gText_Restaurantexpansion2_Placeholder)
    call(Quest_Restaurantexpansion2_CancelIfNotActive_Script)
	subquestmenu(QUEST_MENU_COMPLETE_QUEST, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_5)
    call(Quest_Restaurantexpansion2_CheckReward_Script)
    msgbox(gText_Restaurantexpansion2_Placeholder)
    call(Quest_Restaurantexpansion2_RemoveStaff_Script)
    closemessage
    release
    end
}

script Quest_Restaurantexpansion2_CheckReward_Script{
    setvar(VAR_TEMP_0,0)
        subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_1)
        if (var(VAR_RESULT))
        {
            addvar(VAR_TEMP_0,1)
        }

    subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_2)
        if (var(VAR_RESULT))
        {
            addvar(VAR_TEMP_0,1)
        }

    subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_3)
        if (var(VAR_RESULT))
        {
            addvar(VAR_TEMP_0,1)
        }

    subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_4)
        if (var(VAR_RESULT))
        {
            addvar(VAR_TEMP_0,1)
        }

    subquestmenu(QUEST_MENU_CHECK_COMPLETE, QUEST_RESTAURANTEXPANSION2, SUB_QUEST_5)
        if (var(VAR_RESULT))
        {
            addvar(VAR_TEMP_0,1)
        }

        if (var(VAR_TEMP_0) == 5){
            questmenu(QUEST_MENU_SET_REWARD, QUEST_RESTAURANTEXPANSION2)
        }
    return
}

script Quest_Restaurantexpansion2_Reward_Dialogue{
    completequest(QUEST_RESTAURANTEXPANSION2)
}

script Quest_Restaurantexpansion2_Active_Dialogue{
    msgbox(gText_Restaurantexpansion2_Placeholder,,SPEAKER_FALKNER)
    switch(var(VAR_RESULT)){
        case 0: msgbox(gText_Restaurantexpansion2_Placeholder,,SPEAKER_FALKNER)
        case 1: msgbox(gText_Restaurantexpansion2_Placeholder,,SPEAKER_FALKNER)
        case 2: msgbox(gText_Restaurantexpansion2_Placeholder,,SPEAKER_FALKNER)
        case 3: msgbox(gText_Restaurantexpansion2_Placeholder,,SPEAKER_FALKNER)
        case 4: msgbox(gText_Restaurantexpansion2_Placeholder,,SPEAKER_FALKNER)
    }
    release
        end
}

text gText_Restaurantexpansion2_Placeholder{
    format("")
}

text gText_Restaurantexpansion2_PlayerThings{
    format("{PLAYER}! Things have been coming together al dente!")
}

text gText_Restaurantexpansion2_Awesome{
    format("I think that's good. Awesome!")
}

text gText_Restaurantexpansion2_IWantToTake{
    format("")
}

text gText_Restaurantexpansion2_ActuallyIWasnt{
    format("")
}

text gText_Restaurantexpansion2_LetMeGuess{
    format("")
}

text gText_Restaurantexpansion2_YouDontHaveToGoBack{
    format("")
}

text gText_Restaurantexpansion2_IfYouHappenToBattle{
    format("")
}
