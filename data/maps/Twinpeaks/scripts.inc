Twinpeaks_MapScripts::
	map_script MAP_SCRIPT_ON_TRANSITION, Twinpeaks_MapScripts_MAP_SCRIPT_ON_TRANSITION
	map_script MAP_SCRIPT_ON_LOAD, Twinpeaks_MapScripts_MAP_SCRIPT_ON_LOAD
	map_script MAP_SCRIPT_ON_FRAME_TABLE, Twinpeaks_MapScripts_MAP_SCRIPT_ON_FRAME_TABLE
	.byte 0

Twinpeaks_MapScripts_MAP_SCRIPT_ON_TRANSITION:
	setflag FLAG_VISITED_TWINPEAKS_BASE
	call Quest_IBelieveICanFly_Gertrude_Visibility_Script
	call OkayLetsFixIt_Object_Visibility_Script
	return

Twinpeaks_MapScripts_MAP_SCRIPT_ON_LOAD:
	call Script_RemoveTint
	return

Twinpeaks_MapScripts_MAP_SCRIPT_ON_FRAME_TABLE:
	map_script_2 VAR_STORYLINE_STATE, STORY_BEGIN_LETS_FIX_IT, OkayLetsFixit_ReturnToPeak_Script
	.2byte 0


Twinpeaks_EventScript_DeliveryB::
	trainerbattle_single TRAINER_BODEGA_3, gText_ExpandedPlaceholder_Empty, gText_ExpandedPlaceholder_Empty
	returnqueststate QUEST_BODEGABURNOUT
	compare VAR_RESULT, QUEST_MENU_UNLOCK_QUEST
	goto_if_gt Twinpeaks_EventScript_DeliveryB_2
Twinpeaks_EventScript_DeliveryB_1:
	msgbox gText_ExpandedPlaceholder_Empty, MSGBOX_AUTOCLOSE
	end

Twinpeaks_EventScript_DeliveryB_2:
	goto Quest_Bodegaburnout_DeliveryC_Dialogue
	goto Twinpeaks_EventScript_DeliveryB_1

