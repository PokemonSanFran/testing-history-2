mapscripts Chasecenter_Lockers_MapScripts {
    MAP_SCRIPT_ON_TRANSITION {
        goto(Chasecenter_Lockers_MapScripts_OnTransition)
    }
    MAP_SCRIPT_ON_LOAD {
    }
    MAP_SCRIPT_ON_WARP_INTO_MAP_TABLE [
        VAR_STORYLINE_STATE, STORY_START_CHAMPIONSHIP: HeresHowThisIsGoingToGo_VirtualObjectSetUp_Script 
            VAR_STORYLINE_STATE, STORY_CHAMPIONSHIP_EXPLAINED: HeresHowThisIsGoingToGo_CleanUpVObjects_Script
    ]
    MAP_SCRIPT_ON_FRAME_TABLE [
    VAR_STORYLINE_STATE, STORY_START_CHAMPIONSHIP: HeresHowThisIsGoingToGo_ExplainLeagueDialogue
        VAR_STORYLINE_STATE, STORY_BIANCA_WON_GROUP: GroupStages_GreetBeforeStart_Dialogue 
        VAR_STORYLINE_STATE, STORY_SEMIFINAL_COMPLETE: WaitHeDidWhat_RivalsGoToMatch_Script 
        VAR_STORYLINE_STATE, STORY_POST_DIANTHA: ExhibitionBattle_PostBattle_Dialogue
    ]
}

script Chasecenter_Lockers_MapScripts_OnTransition {
    switch (var(VAR_STORYLINE_STATE)){
        case STORY_START_CHAMPIONSHIP: call(HeresHowThisIsGoingToGo_ObjectSetUp_Script)
        case STORY_BIANCA_WON_GROUP: call(GroupStages_Lockers_ObjectSetUp_Script)
        case STORY_READY_GROUP_STAGE: call(GroupStages_Lockers_ObjectCleanUp_Script)
        case STORY_GROUP_STATE_COMPLETE: call(Finals_HideObject_Script)
        case STORY_SEMIFINAL_COMPLETE: call(WaitHeDidWhat_ObjectSetUp_Script)
        case STORY_WATCH_SEMIFINAL: call(WaitHeDidWhat_ObjectMidSetUp_Script)
        case STORY_READY_FINALS: call(WaitHeDidWhat_MeltdownSetUp_Script)
        case STORY_SAVE_FINALS: call(WaitHeDidWhat_MeltdownPostSaveSetUp_Script)
        case STORY_POST_DIANTHA: call(ExhibitionBattle_HideObject_Script)
        case STORY_CONGRATULATED_BY_ROSE: call(ExhibitionBattle_HideObject_Script)
        default: call(WaitHeDidWhat_ObjectMidSetUp_Script)
    }
}

script Chasecenter_Lockers_Bianca_Event_Script {
    lock
        faceplayer
        switch (var(VAR_STORYLINE_STATE)){
            case STORY_READY_FINALS: call(WaitHeDidWhat_BiancaMeltdown_Dialogue)
            case STORY_CONGRATULATED_BY_ROSE: call(ExhibitionBattle_Bianca_Dialogue)
        }
    closemessage
        callnative(ClearMugshot)
        release
        end
}

script Chasecenter_Lockers_InteractArenaGuard_Script {
    lock
        faceplayer

        switch (var(VAR_CHASECENTER_TOURNAMENT_STATE)){
            case PRE_BATTLE_1: goto(GroupStages_PreparePlayer_Script)
            case PRE_BATTLE_4: goto(Finals_PreparePlayer_Script)
            case PRE_BATTLE_5: goto(WaitHeDidWhat_PreparePlayer_Script)
        }

    switch (var(VAR_STORYLINE_STATE)){
        case STORY_SAVE_DIANTHA: goto(ExhibitionBattle_MoveFromDoor_Script)
    }
}
