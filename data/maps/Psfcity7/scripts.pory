const PLAYER = OBJ_EVENT_ID_PLAYER
const CAMERA = OBJ_EVENT_ID_CAMERA
const PSFGOODADMIN = 1
const JULIUS = 7
const MADISON = 6

mapscripts Psfcity7_MapScripts {
    MAP_SCRIPT_ON_TRANSITION {
        //        setflag(FLAG_HIDE_PSFCITY7_PSFGOODADMIN)
        if (var(VAR_PSFCITY7_STATE) > 0){
            call(HowDoWeGetHome_PostSetUp_Script)
    }
}
}

script HowDoWeGetHome_PanCameraToFight_Script {
        setvar(VAR_PSFCITY7_STATE,1)
        getplayerxy(VAR_TEMP_0,VAR_TEMP_1)
        locktarget
        special(SpawnCameraObject)
        applymovement(CAMERA,HowDoWeGetHome_PanCamera_9_9)
        waitmovement(0)
        goto(HowDoWeGetHome_StartFight_Dialogue)
}

script HowDoWeGetHome_DecideCameraPath {
    
}

script HowDoWeGetHome_StartFight_Dialogue {
    msgbox(gText_HowDoWeGetHome_LookWeDontWant)
        msgbox(gText_HowDoWeGetHome_OrJustLeave)
        msgbox(gText_HowDoWeGetHome_LosersYouWannaSay)
        msgbox(gText_HowDoWeGetHome_YouThinkYouScareMe)
        goto(HowDoWeGetHome_PsfgoodadminGetsInvolved_Dialogue)
}
script HowDoWeGetHome_PsfgoodadminGetsInvolved_Dialogue {
    addobject(PSFGOODADMIN)
        clearflag(FLAG_HIDE_PSFCITY7_PSFGOODADMIN)
        setvar(VAR_0x8000, MUGSHOT_ARIANA)
        callnative(DrawMugshot)
        msgbox(gText_HowDoWeGetHome_YoChillOut)
        callnative(ClearMugshot)
        closemessage
        call(HowDoWeGetHome_PsfgoodadminEntrance)
        setvar(VAR_0x8000, MUGSHOT_ARIANA)
        callnative(DrawMugshot)
        msgbox(gText_HowDoWeGetHome_WereDoneWithThisBeef)
        callnative(ClearMugshot)
        msgbox(gText_HowDoWeGetHome_ShouldntIMessYou)
        setvar(VAR_0x8000, MUGSHOT_ARIANA)
        callnative(DrawMugshot)
        msgbox(gText_HowDoWeGetHome_TheWayYouThinkItIs)
        callnative(ClearMugshot)
        goto(HowDoWeGetHome_CrowdRecgonizesPsfgoodadmin_Dialogue)
}

script HowDoWeGetHome_CrowdRecgonizesPsfgoodadmin_Dialogue {
    applymovement(14,Common_Movement_FaceDown)
        applymovement(3,Common_Movement_FaceUp)
        applymovement(11,Common_Movement_FaceLeft)
        msgbox(gText_HowDoWeGetHome_IThinkThats)
        applymovement(2,Common_Movement_FaceRight)
        applymovement(12,Common_Movement_FaceLeft)
        applymovement(4,Common_Movement_FaceRight)
        applymovement(10,Common_Movement_FaceLeft)
        msgbox(gText_HowDoWeGetHome_BetterBackDown)
        applymovement(5,Common_Movement_FaceDown)
        applymovement(8,Common_Movement_FaceUp)
        msgbox(gText_HowDoWeGetHome_ThreeTrainersAtOnce)
        applymovement(9,Common_Movement_FaceDown)
        applymovement(13,Common_Movement_FaceUp)
        msgbox(gText_HowDoWeGetHome_Worldstar)
        closemessage
        goto(HowDoWeGetHome_MadisonWalkAway_Dialogue)
}

script HowDoWeGetHome_MadisonWalkAway_Dialogue {
    applymovement(MADISON,Common_Movement_LookAround)
        waitmovement(0)
        applymovement(MADISON,Common_Movement_FaceDown)
        waitmovement(0)
        msgbox(gText_HowDoWeGetHome_YouKnowWhatWhatever)
        closemessage
        applymovement(MADISON,WalkAway_DialogueFightNorth)
        waitmovement(0)
        removeobject(MADISON)
        applymovement(PSFGOODADMIN,Common_Movement_LookAround)
        waitmovement(0)
        applymovement(PSFGOODADMIN,WalkAway_DialogueFightSouth)
        waitmovement(0)
        removeobject(PSFGOODADMIN)
        applymovement(CAMERA,HowDoWeGetHome_ReversePanCamera_9_9)
        waitmovement(0)
        special(RemoveCameraObject)
        call(HowDoWeGetHome_ObjectCleanUp_Script)
        end
}

script HowDoWeGetHome_PsfgoodadminEntrance{
    lockall
        playse(SE_PIN)
        applymovement(14,HowDoWeGetHome_ExclaimRight)
        applymovement(3,HowDoWeGetHome_ExclaimRight)
        applymovement(11,HowDoWeGetHome_ExclaimRight)
        applymovement(2,HowDoWeGetHome_ExclaimRight)
        applymovement(4,HowDoWeGetHome_ExclaimRight)
        applymovement(12,HowDoWeGetHome_ExclaimRight)
        applymovement(10,HowDoWeGetHome_ExclaimRight)
        applymovement(5,HowDoWeGetHome_ExclaimLeft)
        applymovement(8,HowDoWeGetHome_ExclaimLeft)
        applymovement(9,HowDoWeGetHome_ExclaimLeft)
        applymovement(13,HowDoWeGetHome_ExclaimLeft)
        applymovement(PSFGOODADMIN,HowDoWeGetHome_WalkIntoFight)
        waitmovement(0)
        applymovement(MADISON,Common_Movement_FaceDown)
        applymovement(JULIUS,Common_Movement_FaceDown)
        waitmovement(0)
}

script HowDoWeGetHome_ObjectCleanUp_Script{
        lock
        setobjectnewmovementtype(14,MOVEMENT_TYPE_WANDER_UP_AND_DOWN)
        setobjectnewmovementtype(3,MOVEMENT_TYPE_WANDER_LEFT_AND_RIGHT)
        setobjectnewmovementtype(11,MOVEMENT_TYPE_WANDER_UP_AND_DOWN)
        setobjectnewmovementtype(2,MOVEMENT_TYPE_WANDER_LEFT_AND_RIGHT)
        setobjectnewmovementtype(4,MOVEMENT_TYPE_WANDER_UP_AND_DOWN)
        setobjectnewmovementtype(12,MOVEMENT_TYPE_WANDER_LEFT_AND_RIGHT)
        setobjectnewmovementtype(10,MOVEMENT_TYPE_WANDER_UP_AND_DOWN)
        setobjectnewmovementtype(5,MOVEMENT_TYPE_WANDER_LEFT_AND_RIGHT)
        setobjectnewmovementtype(8,MOVEMENT_TYPE_WANDER_UP_AND_DOWN)
        setobjectnewmovementtype(9,MOVEMENT_TYPE_WANDER_LEFT_AND_RIGHT)
        setobjectnewmovementtype(13,MOVEMENT_TYPE_WANDER_UP_AND_DOWN)
        setobjectnewmovementtype(JULIUS,MOVEMENT_TYPE_WANDER_LEFT_AND_RIGHT)
        release
}

script HowDoWeGetHome_PostSetUp_Script{
        setobjectmovementtype(14,MOVEMENT_TYPE_WANDER_UP_AND_DOWN)
        setobjectmovementtype(3,MOVEMENT_TYPE_WANDER_LEFT_AND_RIGHT)
        setobjectmovementtype(11,MOVEMENT_TYPE_WANDER_UP_AND_DOWN)
        setobjectmovementtype(2,MOVEMENT_TYPE_WANDER_LEFT_AND_RIGHT)
        setobjectmovementtype(4,MOVEMENT_TYPE_WANDER_UP_AND_DOWN)
        setobjectmovementtype(12,MOVEMENT_TYPE_WANDER_LEFT_AND_RIGHT)
        setobjectmovementtype(10,MOVEMENT_TYPE_WANDER_UP_AND_DOWN)
        setobjectmovementtype(5,MOVEMENT_TYPE_WANDER_LEFT_AND_RIGHT)
        setobjectmovementtype(8,MOVEMENT_TYPE_WANDER_UP_AND_DOWN)
        setobjectmovementtype(9,MOVEMENT_TYPE_WANDER_LEFT_AND_RIGHT)
        setobjectmovementtype(13,MOVEMENT_TYPE_WANDER_UP_AND_DOWN)
        setobjectmovementtype(JULIUS,MOVEMENT_TYPE_WANDER_LEFT_AND_RIGHT)
}

movement HowDoWeGetHome_PanCamera_9_9 {
    walk_right * 5
        step_end
}

movement HowDoWeGetHome_ReversePanCamera_9_9 {
    walk_left * 5
        step_end
}

movement HowDoWeGetHome_WalkIntoFight {
    walk_up * 5
        step_end
}

movement HowDoWeGetHome_ExclaimLeft {
    emote_exclamation_mark
        face_down
        delay_16 * 5
        face_left
        step_end
}

movement HowDoWeGetHome_ExclaimRight {
    emote_exclamation_mark
        face_down
        delay_16 * 5
        face_right
        step_end
}

movement WalkAway_DialogueFightSouth {
    walk_down * 5
        step_end
}

movement WalkAway_DialogueFightNorth {
    walk_up
        walk_right
        walk_up * 5
        step_end
}

text gText_HowDoWeGetHome_LookWeDontWant {
    format("Look, we don't want to be here any more than you want us here, but we're both going to have to deal with it!")
}

text gText_HowDoWeGetHome_OrJustLeave {
    format("Or, just leave! You shouldn't be here. Go to the Psfcity12, where you losers belong.")
}

text gText_HowDoWeGetHome_LosersYouWannaSay {
    format("Losers? You wanna say that shit to my face?")
}

text gText_HowDoWeGetHome_YouThinkYouScareMe {
    format("Absolutely. You think you scare me, pretty boy? I'll rearrange your face!")
}

text gText_HowDoWeGetHome_YoChillOut {
    format("Yo, chill out!")
}

text gText_HowDoWeGetHome_WereDoneWithThisBeef {
    format("We're done with this beef. Right now. We're going to try to make the best of this situation, and try to stay out of your way. But you guys absolutely need to relax. We'll be gone as soon as we can.")
}

text gText_HowDoWeGetHome_ShouldntIMessYou {
    format("Why the hell shouldn't I mess you up too?")
}

text gText_HowDoWeGetHome_TheWayYouThinkItIs {
    format("That's not going to go the way you think it is.")
}

text gText_HowDoWeGetHome_IThinkThats {
    format("I think that's Psfgoodadmin, right? The Psfgoodteam Admin?")
}

text gText_HowDoWeGetHome_BetterBackDown {
    format("Yeah, Madison better back down.")
}

text gText_HowDoWeGetHome_ThreeTrainersAtOnce {
    format("Dude, I'm pretty sure they took down three trainers at once a few weeks ago.")
}

text gText_HowDoWeGetHome_Worldstar {
    format("Worldstarrrrrr!")
}

text gText_HowDoWeGetHome_YouKnowWhatWhatever {
    format("...Actually you know what, whatever.")
}

