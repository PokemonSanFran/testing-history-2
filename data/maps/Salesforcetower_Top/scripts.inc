Salesforcetower_Top_MapScripts::
	map_script MAP_SCRIPT_ON_TRANSITION, Salesforcetower_Top_MapScripts_MAP_SCRIPT_ON_TRANSITION
	.byte 0

Salesforcetower_Top_MapScripts_MAP_SCRIPT_ON_TRANSITION:
	call Salesforcetower_Top_ObjectVisibility_Script
	call_if_quest_active QUEST_ULTRAWORMHOLERESEARCH, Quest_Ultrawormholeresearch_ShowWarp_Script
	return


Salesforcetower_Top_ObjectVisibility_Script::
	switch VAR_TOWER_RAID_STATE
	case DEFEATED_BIANCA_SALESFORCETOWER, Salesforcetower_Top_ObjectVisibility_Script_3
	case SAVE_ROSE_SALESFORCETOWER, Salesforcetower_Top_ObjectVisibility_Script_4
	case DEFEATED_ROSE_SALESFORCETOWER, Salesforcetower_Top_ObjectVisibility_Script_5
	call YouCantStopMe_ObjectCleanUp_Script
Salesforcetower_Top_ObjectVisibility_Script_1:
	return

Salesforcetower_Top_ObjectVisibility_Script_3:
	call YouCantStopMe_HideObject_Script
	goto Salesforcetower_Top_ObjectVisibility_Script_1

Salesforcetower_Top_ObjectVisibility_Script_4:
	call YouCantStopMe_HideObject_Script
	goto Salesforcetower_Top_ObjectVisibility_Script_1

Salesforcetower_Top_ObjectVisibility_Script_5:
	call YouCantStopMe_MoveObject_Script
	goto Salesforcetower_Top_ObjectVisibility_Script_1


Salesforcetower_Top_Rose_Event_Script::
	lock
	compare VAR_TOWER_RAID_STATE, STOPPED_BY_OAK
	goto_if_eq Salesforcetower_Top_Rose_Event_Script_1
	goto YouCantStopMe_StartBossBattle_Script
	return

Salesforcetower_Top_Rose_Event_Script_1:
	goto YouCantStopMe_Confront_Dialogue
	return


Salesforce_Top_Bookshelf_Dialogue::
	lockall
	msgbox gText_Salesforce_Top_Bookshelf_TheresABunch, MSGBOX_DEFAULT
	questmenu QUEST_MENU_CHECK_COMPLETE, QUEST_HIDDENGROTTOMAPPING2
	compare VAR_RESULT, 0
	goto_if_ne Salesforce_Top_Bookshelf_Dialogue_2
Salesforce_Top_Bookshelf_Dialogue_1:
	releaseall
	end

Salesforce_Top_Bookshelf_Dialogue_2:
	goto Quest_Ultrawormholeresearch_HiddenElevator_Script
	goto Salesforce_Top_Bookshelf_Dialogue_1


gText_Salesforce_Top_Bookshelf_TheresABunch::
	.string "There's a lot of books ranging a series\n"
	.string "of different topics, like Company\l"
	.string "Management, System Design, Learning\l"
	.string "Esperanto.$"
